<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EterPack &mdash; Wiki  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/algolia.css" type="text/css" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/rtd_dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/js/external-hyperlinks.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Protos" href="../Protos/index.html" />
    <link rel="prev" title="Pack" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> Wiki
            <img src="../../../../_static/128_icon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Wiki</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../Encryption/index.html">Encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Encryption/hybrid_cript.html">HybridCrypt (Type 4)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript.html#summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript.html#distinction">Distinction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript.html#composition">Composition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Encryption/hybrid_cript_plus.html">HybridCrypt+ (Type 5)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript_plus.html#summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript_plus.html#distinction">Distinction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Encryption/hybrid_cript_plus.html#composition">Composition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Formats</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Map/index.html">Map</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Map/Chunk/index.html">Chunk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Map/index.html#directory-composition">Directory Composition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Scripts/index.html">Script</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Scripts/Base.html">Script Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Scripts/Property.html">Property</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Scripts/Sub.html">Sub Format (.sub)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Entity/index.html">Entity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Entity/Models/index.html">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Entity/Motion.html">Motion Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Entity/Effect.html">Effect Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Entity/Sound.html">Sound Data</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Pack</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">EterPack</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Protos/index.html">Protos</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Protos/Item.html">Item Proto</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Protos/Mob.html">Mob Proto</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Deprecated/index.html">Deprecated</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Deprecated/texture_caching.html">DDS Texture Caching</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Encrypted-Object.html">Encrypted Object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Encrypted-Object.html#header">Header</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Encrypted-Object.html#data-compression">Data Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Encrypted-Object.html#data-encryption">Data Encryption</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Networking/index.html">Networking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Networking/Flow.html">Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Flow.html#concept">Concept</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Networking/Phases.html">Phases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Phases.html#login-phase">Login Phase</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Networking/Synchronization/index.html">Synchronization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Synchronization/Handshake.html">Handshake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Synchronization/IPE.html">IPE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Networking/Data/index.html">Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Data/Packets/index.html">Packets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Networking/Encryption/index.html">Encryption</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Encryption/Overview.html">Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Encryption/Encryption.html">Network Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Encryption/IPE.html">IPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Networking/Encryption/XTEA.html">XTEA</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Knowledge/index.html">Knowledge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html">Compatibility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/Compatibility/improvements.html">Possible Improvements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/Compatibility/improvements.html#id1"></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html#compatible-platforms">Compatible Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html#client">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html#server">Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html#freebsd">FreeBSD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html#bsd-extensions-file-monitoring">BSD Extensions/File Monitoring</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/Compatibility/index.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Knowledge/Tutorials/index.html">Tutorials</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Knowledge/ThirdParty/index.html">Third Party</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/ThirdParty/Requirements.html">Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/ThirdParty/Requirements.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/ThirdParty/libraries.html">Third Party Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/ThirdParty/libraries.html#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/ThirdParty/libraries.html#client">Client</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/ThirdParty/libraries.html#server">Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Knowledge/ThirdParty/dependencies.html">Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/ThirdParty/dependencies.html#client-binary">Client Binary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Knowledge/ThirdParty/dependencies.html#directx-8-and-windows-32bit-native-apis">DirectX 8 and Windows 32bit native APIs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../History/index.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../History/Network.html">Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../History/Network.html#encryption">Encryption</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../History/Network.html#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../About/index.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../About/Contributing.html">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../About/Contributing.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../About/Contributing.html#content">Content</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../About/Contributing.html#proposing-changes">Proposing Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../About/Contributing.html#pull-requests-approval">Pull Requests / Approval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../About/Contributing.html#licensing">Licensing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Topics</a> &raquo;</li>
          <li><a href="../index.html">Formats</a> &raquo;</li>
          <li><a href="index.html">Pack</a> &raquo;</li>
      <li>EterPack</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/Metin2-Dev/wiki-beta-dev/blob/beta/docs/pages/Topics/Formats/Pack/eter.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="eterpack">
<h1>EterPack<a class="headerlink" href="#eterpack" title="Permalink to this heading"></a></h1>
<p>The EterPack is a proprietary Virtual File System used for containing all the Client assets
(such as 3d meshes, sfx, textures).</p>
<p>An EterPack consists of two files, the Index file (.eix) and the Content file (.epk)</p>
<p>The Content file is where the files are stored, either encrypted
or decrypted, while the Index file is where all information
of the files are stored.
(An information might be the file’s compression type or the directory
where it should virtually mapped)</p>
<p>Index files are usually encrypted as a Crypted Object, therefore before
reading the header, the client must decrypt the file following
the method described in the Crypted Object page.</p>
<div class="section" id="formats">
<h2>Formats<a class="headerlink" href="#formats" title="Permalink to this heading"></a></h2>
<div class="section" id="index-eix-extension">
<h3>Index (.eix extension)<a class="headerlink" href="#index-eix-extension" title="Permalink to this heading"></a></h3>
<p><img alt="Index file" src="../../../../_images/Indexfile_header.png" /></p>
<div class="section" id="header-16-bytes">
<h4>Header ( 16 bytes )<a class="headerlink" href="#header-16-bytes" title="Permalink to this heading"></a></h4>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Color</p></th>
<th class="head"><p>Bytes</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span style="color:red">Red</span></p></td>
<td><p>4</p></td>
<td><p>FourCC (EPKD)</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:royalblue">Blue</span></p></td>
<td><p>4</p></td>
<td><p>Version (Must be 2, it is not known if a EPK with version 1 exists)</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:green">Green</span></p></td>
<td><p>4</p></td>
<td><p>Amount of files in the content</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:yellow">Yellow</span></p></td>
<td><p>4</p></td>
<td><p>Start of the file index information</p></td>
</tr>
</tbody>
</table>
<p>From the number of files included in this EterPack, it follows one or more “Index File Information” or simply File information.</p>
</div>
<div class="section" id="file-information-193-bytes">
<h4>File Information ( 193 bytes )<a class="headerlink" href="#file-information-193-bytes" title="Permalink to this heading"></a></h4>
<p><img alt="Index FIle" src="../../../../_images/Indexfile_finfo.png" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Color</p></th>
<th class="head"><p>Bytes</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span style="color:red">Red</span></p></td>
<td><p>4</p></td>
<td><p>Id</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:royalblue">Blue</span></p></td>
<td><p>160 + 1</p></td>
<td><p>File name (ASCII) + Null terminator</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:#555">Black</span></p></td>
<td><p>3</p></td>
<td><p>Padding</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:green">Green</span></p></td>
<td><p>3</p></td>
<td><p>File name CRC32</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:yellow">Yellow</span></p></td>
<td><p>4</p></td>
<td><p>Decompressed and decrypted file size</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:gray">Gray</span></p></td>
<td><p>4</p></td>
<td><p>Packed file size in the Content</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:orange">Orange</span></p></td>
<td><p>4</p></td>
<td><p>Packed file CRC32 in the Content</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:brown">Brown</span></p></td>
<td><p>4</p></td>
<td><p>Packed file offset in the Content</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:purple">Purple</span></p></td>
<td><p>4</p></td>
<td><p>Encryption type</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:#555">Black</span></p></td>
<td><p>2</p></td>
<td><p>Padding</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="content-epk-extension">
<h3>Content (.epk extension)<a class="headerlink" href="#content-epk-extension" title="Permalink to this heading"></a></h3>
<p>A Content file (.epk) contains the data encrypted by the specified
algorithm type, there is no header or any format in this file,
they are raw files which can be mapped by information that comes
from the Index information specified above</p>
<div class="section" id="algorithm-types">
<h4>Algorithm Types<a class="headerlink" href="#algorithm-types" title="Permalink to this heading"></a></h4>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Raw</p></td>
<td><p>No compression or encryption</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>LZO</p></td>
<td><p>Compressed with LZO</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>LZO+XTEA</p></td>
<td><p>Compressed with LZO then encrypted with XTEA</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Panama</p></td>
<td><p>Encrypted with Panama</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference internal" href="../../Encryption/hybrid_cript.html"><span class="doc std std-doc">HybridCrypt</span></a></p></td>
<td><p>HybridCrypt</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><a class="reference internal" href="../../Encryption/hybrid_cript_plus.html"><span class="doc std std-doc">HybridCrypt+</span></a></p></td>
<td><p>HybridCrypt with extra data</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Snappy+XTEA</p></td>
<td><p>Compressed with Snappy then encrypted with XTEA using the Content keys (In other words, a MCSP CryptedObject)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Permalink to this heading"></a></h2>
<p>All the packs are stored inside the pack/ folder of the
game client, and they are loaded in a specified order defined by
the Pack <code class="docutils literal notranslate"><span class="pre">Index</span></code> that’s also present in that same folder</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Pack" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Protos/index.html" class="btn btn-neutral float-right" title="Protos" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2022.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>